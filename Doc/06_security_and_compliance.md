# セキュリティ / 監査設計

## 通信と到達性
- **無料独自SSL**を有効化し、常時HTTPSにする。citeturn0search0
- **WAF**をONにし、遮断ログを定期的に確認する。citeturn0search4

## 管理画面の防御（多段）
1. **アプリ内ログイン**（ID/パスワードは安全にハッシュ化保管）。  
2. **ディレクトリアクセス制限（Basic認証）**を**管理エリアに追加**し、二重の壁にする（WINGの機能で設定可能）。citeturn3search1  
   - 注意：Basic認証は**HTTPS下**で使う。citeturn0search5
3. 必要なら、IP制限（.htaccessで許可IPのみにする）。**WINGは.htaccess編集に対応**。citeturn3search0

## 変更の追跡と改ざん検知
- 生イベントは**追記専用**で保存し、**ハッシュ連鎖**で前後関係を固定。  
- 日次終了時に**スナップショットのハッシュ**を保存（cronで固定化）。  
- 管理者操作は `admin_audit_logs` に**必ず残す**（誰が・何を・いつ）。

## 保存期間と保全
- 設計は**5年保存**を前提にする（当分の間は3年の経過措置あり）。citeturn5view2  
- WING の**自動バックアップ（過去14日分）**の存在を把握しつつ、**本番DBの定期ダンプ**も取得する。citeturn2search8

## 運用時の注意
- MySQLは**外部接続不可**。外部BIツールからの直接参照は構成上想定しない。citeturn1view0
